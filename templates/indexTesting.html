<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rubber Duck AI - Code Debugging Assistant</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>

<div class="navbar">
    <a href="/" onclick="setLanguage('python'); return false;">Python</a>
    <a href="/" onclick="setLanguage('java'); return false;">Java</a>
    <a href="/" onclick="setLanguage('csharp'); return false;">C#</a>
    <a href="/" onclick="setLanguage('cpp'); return false;">C++</a>
    <a href="/" onclick="setLanguage('javascript'); return false;">JavaScript</a>
</div>

<h1>Rubber Duck AI - Code Debugging Assistant</h1>

<form method="POST">
    <select name="language" id="language-select">
        <option value="python" {% if language == 'python' %}selected{% endif %}>Python</option>
        <option value="java" {% if language == 'java' %}selected{% endif %}>Java</option>
        <option value="csharp" {% if language == 'csharp' %}selected{% endif %}>C#</option>
        <option value="cpp" {% if language == 'cpp' %}selected{% endif %}>C++</option>
        <option value="javascript" {% if language == 'javascript' %}selected{% endif %}>JavaScript</option>
    </select>
    <br><br>

    <textarea name="code" rows="10" cols="50" placeholder="Enter your {{ language }} code here...">{{ code }}</textarea><br><br>
    <button type="submit">Run Code</button>
</form>

{% if feedback %}
    <h2>Feedback</h2>
    <div>
        <strong>Syntax Check:</strong>
        <pre>{{ feedback.syntax }}</pre>
    </div>
    <div>
        <strong>Lint Check:</strong>
        <pre>{{ feedback.lint }}</pre>
    </div>
    <div>
        <strong>Runtime Feedback:</strong>
        <pre>{{ feedback.runtime }}</pre>
    </div>
{% endif %}

<script>
    function setLanguage(lang) {
        const select = document.getElementById('language-select');
        select.value = lang;
        document.forms[0].submit();
    }
</script>

</body>
</html>
